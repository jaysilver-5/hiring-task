(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[979],{7996:function(e){"use strict";e.exports=function({mustBeMetaMask:e=!1,silent:t=!1,timeout:a=3e3}={}){!function(){if("boolean"!=typeof e)throw Error("@metamask/detect-provider: Expected option 'mustBeMetaMask' to be a boolean.");if("boolean"!=typeof t)throw Error("@metamask/detect-provider: Expected option 'silent' to be a boolean.");if("number"!=typeof a)throw Error("@metamask/detect-provider: Expected option 'timeout' to be a number.")}();let n=!1;return new Promise(s=>{window.ethereum?o():(window.addEventListener("ethereum#initialized",o,{once:!0}),setTimeout(()=>{o()},a));function o(){if(n)return;n=!0,window.removeEventListener("ethereum#initialized",o);let{ethereum:a}=window;if(a&&(!e||a.isMetaMask))s(a);else{let n=e&&a?"Non-MetaMask window.ethereum detected.":"Unable to detect window.ethereum.";t||console.error("@metamask/detect-provider:",n),s(null)}}})}},1911:function(e,t,a){"use strict";var n=a(4246),s=a(3132),o=a.n(s);t.Z=()=>(0,n.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50",children:(0,n.jsx)(o(),{color:"#00b8b9",loading:!0,size:100,"aria-label":"Loading Spinner","data-testid":"loader"})})},9581:function(e,t,a){"use strict";var n=a(4246),s=a(7378),o=a(7996),i=a.n(o),l=a(6677),r=a(885),c=a(6125),u=a(668),d=a(7929),m=a.n(d),h=a(1911);t.Z=e=>{let{type:t="login"}=e,[a,o]=(0,s.useState)(!1),[d,p]=(0,s.useState)(null),[x,g]=(0,s.useState)(""),[f,b]=(0,s.useState)(""),[w,j]=(0,s.useState)(""),[y,v]=(0,s.useState)(null),[N,k]=(0,s.useState)(!1),[_,S]=(0,s.useState)(!1),E=(0,l.useRouter)(),M=(0,c.I0)(),C=async()=>{k(!0);let e=await i()();if(e)try{let t=await e.request({method:"eth_requestAccounts"});if(t&&t.length>0){o(!0);let e=t[0];p(e),M((0,u.gt)(e))}else v("No accounts found. Please connect MetaMask.")}catch(e){v("Failed to connect wallet. Please try again."+e)}else alert("MetaMask is not installed. Please install it to continue.");k(!1)},F=async e=>{e.preventDefault(),v(null),S(!0);let a={email:x,password:f,..."register"===t&&{username:w}};try{let e=await fetch("".concat("http://localhost:8000/api/v1").concat("login"===t?"/auth/login":"/auth/register"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}),n=await e.json();if(e.ok)M((0,u.o4)(n.token)),M((0,u.vV)(x)),"register"===t&&M((0,u.b6)(w)),E.push("/dashboard");else throw Error(n.message||"Something went wrong. Please try again.")}catch(e){e instanceof Error?v(e.message):v(String(e))}S(!1)};return(0,n.jsx)("div",{className:"w-full bg-plain bg-cover h-screen",children:(0,n.jsxs)("div",{className:"flex flex-col lg:flex-row justify-between h-full",children:[(0,n.jsx)("img",{src:"/images/sign-in-banner.jpg",className:"hidden lg:block h-full"}),(0,n.jsxs)("div",{className:"m-auto p-6 lg:p-0 lg:gap-y-6 w-full lg:w-1/2 flex flex-col items-center",children:[(0,n.jsxs)("h1",{className:"text-4xl lg:text-6xl text-secondary font-primary text-[58px] font-extrabold mb-6",children:["LOG IN",(0,n.jsx)("br",{})," ",(0,n.jsx)("span",{className:"text-[#00BBFF]",children:"360"})," NFT"]}),a?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("button",{className:m().walletButton,children:["Wallet: ",d&&"".concat(d.slice(0,6),"...").concat(d.slice(-4))]}),(0,n.jsxs)(r.E.div,{initial:{y:200,opacity:0},animate:{y:0,opacity:1},transition:{duration:.5},className:m().formContainer,children:[(0,n.jsx)("h2",{children:"login"===t?"Login":"Register"}),(0,n.jsxs)("form",{onSubmit:F,className:m().form,children:["register"===t&&(0,n.jsx)("input",{type:"text",className:"text-black",placeholder:"Username",value:w,onChange:e=>j(e.target.value),required:!0}),(0,n.jsx)("input",{type:"email",className:"text-black",placeholder:"Email",value:x,onChange:e=>g(e.target.value),required:!0}),(0,n.jsx)("input",{type:"password",placeholder:"Password",value:f,onChange:e=>b(e.target.value),required:!0}),(0,n.jsx)("button",{type:"submit",className:"".concat(m().submitButton," ").concat(_?"opacity-50 cursor-not-allowed":""),disabled:_,children:_?"Submitting...":"login"===t?"Login":"Register"})]}),y&&(0,n.jsx)("p",{className:m().error,children:y}),_&&(0,n.jsx)(h.Z,{})]})]}):(0,n.jsx)("button",{onClick:C,className:"rounded-[10px] bg-[#4285F4] p-3 ".concat(N?"opacity-50 cursor-not-allowed":""),disabled:N,children:N?(0,n.jsxs)("div",{className:"flex gap-x-2 items-center",children:[(0,n.jsx)("p",{className:"text-white",children:"Connecting..."})," "]}):(0,n.jsxs)("div",{className:"flex gap-x-2 items-center",children:[(0,n.jsx)("img",{src:"/images/metamask.svg",width:20,alt:"MetaMask"}),(0,n.jsx)("p",{className:"text-white",children:"Connect your wallet"})]})})]})]})})}},7929:function(e){e.exports={container:"AuthForm_container__gA9Mj",connectButton:"AuthForm_connectButton__O8vbp",walletButton:"AuthForm_walletButton__DkzG5",formContainer:"AuthForm_formContainer__PbLtX",form:"AuthForm_form__KcgsG",submitButton:"AuthForm_submitButton__oTWuP"}},8038:function(e,t,a){e.exports=a(8762)}}]);